<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.TravelsMapper">
  <resultMap id="BaseResultMap" type="pojo.Travels">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="tid" jdbcType="INTEGER" property="tid" />
    <result column="ttitle" jdbcType="VARCHAR" property="ttitle" />
    <result column="ttime" jdbcType="TIMESTAMP" property="ttime" />
    <result column="tcontent" jdbcType="VARCHAR" property="tcontent" />
    <result column="vid" jdbcType="INTEGER" property="vid" />
    <result column="uid" jdbcType="INTEGER" property="uid" />
    <result column="sort" jdbcType="VARCHAR" property="sort" />
    <result column="timg1" jdbcType="VARCHAR" property="timg1" />
    <result column="timg2" jdbcType="VARCHAR" property="timg2" />
    <result column="timg3" jdbcType="VARCHAR" property="timg3" />
    <result column="timg4" jdbcType="VARCHAR" property="timg4" />
    <result column="timg5" jdbcType="VARCHAR" property="timg5" />
    <result column="timg6" jdbcType="VARCHAR" property="timg6" />
    <result column="timg7" jdbcType="VARCHAR" property="timg7" />
    <result column="timg8" jdbcType="VARCHAR" property="timg8" />
    <result column="timg9" jdbcType="VARCHAR" property="timg9" />
    <result column="tlat" jdbcType="DECIMAL" property="tlat" />
    <result column="tlon" jdbcType="DECIMAL" property="tlon" />
    <result column="positionName" jdbcType="VARCHAR" property="positionName" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    tid, ttitle, ttime, tcontent, vid, uid,sort, timg1, timg2, timg3, timg4, timg5, timg6, 
    timg7, timg8, timg9, tlat, tlon, positionName
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from travels
    where tid = #{tid,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from travels
    where tid = #{tid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="pojo.Travels">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into travels (tid, ttitle, ttime, 
      tcontent, vid, uid, sort,
      timg1, timg2, timg3, 
      timg4, timg5, timg6, 
      timg7, timg8, timg9,
      tlat, tlon, positionName
      )
    values (#{tid,jdbcType=INTEGER}, #{ttitle,jdbcType=VARCHAR}, #{ttime,jdbcType=TIMESTAMP}, 
      #{tcontent,jdbcType=VARCHAR}, #{vid,jdbcType=INTEGER}, #{uid,jdbcType=INTEGER}, #{sort,jdbcType=VARCHAR},
      #{timg1,jdbcType=VARCHAR}, #{timg2,jdbcType=VARCHAR}, #{timg3,jdbcType=VARCHAR}, 
      #{timg4,jdbcType=VARCHAR}, #{timg5,jdbcType=VARCHAR}, #{timg6,jdbcType=VARCHAR}, 
      #{timg7,jdbcType=VARCHAR}, #{timg8,jdbcType=VARCHAR}, #{timg9,jdbcType=VARCHAR},
      #{tlat,jdbcType=DECIMAL}, #{tlon,jdbcType=DECIMAL}, #{positionName,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="pojo.Travels">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into travels
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="tid != null">
        tid,
      </if>
      <if test="ttitle != null">
        ttitle,
      </if>
      <if test="ttime != null">
        ttime,
      </if>
      <if test="tcontent != null">
        tcontent,
      </if>
      <if test="vid != null">
        vid,
      </if>
      <if test="uid != null">
        uid,
      </if>
      <if test="sort != null">
        sort,
      </if>
      <if test="timg1 != null">
        timg1,
      </if>
      <if test="timg2 != null">
        timg2,
      </if>
      <if test="timg3 != null">
        timg3,
      </if>
      <if test="timg4 != null">
        timg4,
      </if>
      <if test="timg5 != null">
        timg5,
      </if>
      <if test="timg6 != null">
        timg6,
      </if>
      <if test="timg7 != null">
        timg7,
      </if>
      <if test="timg8 != null">
        timg8,
      </if>
      <if test="timg9 != null">
        timg9,
      </if>
      <if test="tlat != null">
        tlat,
      </if>
      <if test="tlon != null">
        tlon,
      </if>
      <if test="positionName != null">
        positionName,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="tid != null">
        #{tid,jdbcType=INTEGER},
      </if>
      <if test="ttitle != null">
        #{ttitle,jdbcType=VARCHAR},
      </if>
      <if test="ttime != null">
        #{ttime,jdbcType=TIMESTAMP},
      </if>
      <if test="tcontent != null">
        #{tcontent,jdbcType=VARCHAR},
      </if>
      <if test="vid != null">
        #{vid,jdbcType=INTEGER},
      </if>
      <if test="uid != null">
        #{uid,jdbcType=INTEGER},
      </if>
      <if test="sort != null">
        #{sort,jdbcType=VARCHAR},
      </if>
      <if test="timg1 != null">
        #{timg1,jdbcType=VARCHAR},
      </if>
      <if test="timg2 != null">
        #{timg2,jdbcType=VARCHAR},
      </if>
      <if test="timg3 != null">
        #{timg3,jdbcType=VARCHAR},
      </if>
      <if test="timg4 != null">
        #{timg4,jdbcType=VARCHAR},
      </if>
      <if test="timg5 != null">
        #{timg5,jdbcType=VARCHAR},
      </if>
      <if test="timg6 != null">
        #{timg6,jdbcType=VARCHAR},
      </if>
      <if test="timg7 != null">
        #{timg7,jdbcType=VARCHAR},
      </if>
      <if test="timg8 != null">
        #{timg8,jdbcType=VARCHAR},
      </if>
      <if test="timg9 != null">
        #{timg9,jdbcType=VARCHAR},
      </if>
      <if test="tlat != null">
        #{tlat,jdbcType=DECIMAL},
      </if>
      <if test="tlon != null">
        #{tlon,jdbcType=DECIMAL},
      </if>
      <if test="positionName != null">
        #{positionName,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="pojo.Travels">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update travels
    <set>
      <if test="ttitle != null">
        ttitle = #{ttitle,jdbcType=VARCHAR},
      </if>
      <if test="ttime != null">
        ttime = #{ttime,jdbcType=TIMESTAMP},
      </if>
      <if test="tcontent != null">
        tcontent = #{tcontent,jdbcType=VARCHAR},
      </if>
      <if test="vid != null">
        vid = #{vid,jdbcType=INTEGER},
      </if>
      <if test="uid != null">
        uid = #{uid,jdbcType=INTEGER},
      </if>
      <if test="sort != null">
        sort = #{sort,jdbcType=VARCHAR},
      </if>
      <if test="timg1 != null">
        timg1 = #{timg1,jdbcType=VARCHAR},
      </if>
      <if test="timg2 != null">
        timg2 = #{timg2,jdbcType=VARCHAR},
      </if>
      <if test="timg3 != null">
        timg3 = #{timg3,jdbcType=VARCHAR},
      </if>
      <if test="timg4 != null">
        timg4 = #{timg4,jdbcType=VARCHAR},
      </if>
      <if test="timg5 != null">
        timg5 = #{timg5,jdbcType=VARCHAR},
      </if>
      <if test="timg6 != null">
        timg6 = #{timg6,jdbcType=VARCHAR},
      </if>
      <if test="timg7 != null">
        timg7 = #{timg7,jdbcType=VARCHAR},
      </if>
      <if test="timg8 != null">
        timg8 = #{timg8,jdbcType=VARCHAR},
      </if>
      <if test="timg9 != null">
        timg9 = #{timg9,jdbcType=VARCHAR},
      </if>
      <if test="tlat != null">
        tlat = #{tlat,jdbcType=DECIMAL},
      </if>
      <if test="tlon != null">
        tlon = #{tlon,jdbcType=DECIMAL},
      </if>
      <if test="positionName != null">
        positionName = #{positionName,jdbcType=VARCHAR},
      </if>
    </set>
    where tid = #{tid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="pojo.Travels">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update travels
    set ttitle = #{ttitle,jdbcType=VARCHAR},
      ttime = #{ttime,jdbcType=TIMESTAMP},
      tcontent = #{tcontent,jdbcType=VARCHAR},
      vid = #{vid,jdbcType=INTEGER},
      uid = #{uid,jdbcType=INTEGER},
      sort = #{sort,jdbcType=VARCHAR},
      timg1 = #{timg1,jdbcType=VARCHAR},
      timg2 = #{timg2,jdbcType=VARCHAR},
      timg3 = #{timg3,jdbcType=VARCHAR},
      timg4 = #{timg4,jdbcType=VARCHAR},
      timg5 = #{timg5,jdbcType=VARCHAR},
      timg6 = #{timg6,jdbcType=VARCHAR},
      timg7 = #{timg7,jdbcType=VARCHAR},
      timg8 = #{timg8,jdbcType=VARCHAR},
      timg9 = #{timg9,jdbcType=VARCHAR},
      tlat = #{tlat,jdbcType=DECIMAL},
      tlon = #{tlon,jdbcType=DECIMAL},
      positionName = #{positionName,jdbcType=VARCHAR}
    where tid = #{tid,jdbcType=INTEGER}
  </update>
  
  <select id="selecAll" parameterType="pojo.Travels" resultType="pojo.Travels">
  		select * from travels where 1=1
  		<if test="tid!=null">
  			and tid = #{tid}
  		</if>
  		<if test="ttitle!=null and ttitle!=''">
  			and ttitle like "%"#{ttitle}"%"
  		</if>
  		<if test="ttime!=null and ttime!=''">
  			and ttime like "%"#{ttime}"%"
  		</if> 
  		<if test="tcontent!=null and tcontent!=''">
  			and tcontent like "%"#{tcontent}"%"
  		</if>
  		<if test="vid!=null">
  			and vid = #{vid}
  		</if>
  		<if test="uid!=null and uid!=''">
  			and uid = #{uid}
  		</if>
  		order by ttime desc
  </select>
  
  <select id="selectTravelsBySort" parameterType="java.lang.String" resultType="pojo.Travels">
  		select * from travels where 1=1
  		and DATE_FORMAT(ttime,'%Y-%m-%d') BETWEEN #{nowDays}  and #{nowDays}
  		order by sort desc limit 0,3
  		
  </select>
</mapper>